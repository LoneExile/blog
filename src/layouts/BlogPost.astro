---
export const prerender = true;

import Content from "@layouts/Content.astro";
import { Comments } from "@components/Comment";
import { formattedDate } from "@utils/utils";

const { created, updated, draft, tags, title, description } = Astro.props;

const proseImg =
  "prose-img:rounded-xl prose-img:w-[90%] prose-img:h-[90%] prose-img:mx-auto";

const proseHeadings = "prose-headings:text-primary-content";

const proseA = "hover:prose-a:text-info";

const prose = `prose md:prose-lg lg:prose-xl pb-[10%] ${proseImg} ${proseHeadings} ${proseA}`;
---

<!-- TODO: 
- https://docs.astro.build/en/guides/markdown-content/ 
- add color to header
- click to zoom images
- add width to images
-->
<Content title={title} description={description}>
  <div>
    <div class="mb-8">
      {
        draft && (
          <span class="bg-error-content text-primary inline-block px-2 mb-4">
            [Draft]
          </span>
        )
      }
      {
        tags && (
          <div class="mb-4">
            {tags.map((tag: string) => (
              <a
                href={`/blogs/tag/${tag.toLowerCase()}`}
                class="inline-block bg-primary-focus rounded-full px-3 py-1 text-sm font-semibold text-primary-content mr-2 mb-2"
              >
                #{tag}
              </a>
            ))}
          </div>
        )
      }
      <h1 class="lg:text-5xl md:text-4xl sm:text-3xl text-xl font-bold mb-4">
        {title}
      </h1>
      <p class="text-sm mb-2">
        <span>
          Posted {formattedDate(created)}
        </span>
        <span>â€¢</span>
        <span>
          Updated {formattedDate(updated)}
        </span>
      </p>
    </div>
    <div class={prose}>
      <slot />
    </div>
    <Comments client:visible />
  </div>
</Content>
