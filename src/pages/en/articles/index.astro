---
import MainLayout from "@layouts/MainLayout.astro";
import BlogCard from "@components/BlogCard.astro";
import data from "@data/en.json";
import { getCollection } from "astro:content";

const path = "/en/articles/";

const posts = await getCollection("blogs", ({ data }) => {
  if (import.meta.env.PROD) {
    return data.draft !== true;
  } else {
    return true;
  }
});
---

<MainLayout description={data.siteDescription} path={path}>
  <BlogCard posts={posts} />
</MainLayout>
